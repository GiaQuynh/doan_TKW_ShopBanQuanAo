function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o={exports:{}},i={exports:{}};!function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(i),function(t){var e=i.exports.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=f;var h={};function d(){}function y(){}function v(){}var w={};l(w,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(P([])));b&&b!==o&&i.call(b,c)&&(w=b);var g=v.prototype=d.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,n){function r(o,a,c,u){var s=p(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==e(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):n.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var o;this._invoke=function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=p(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return y.prototype=v,l(g,"constructor",v),l(v,"constructor",y),y.displayName=l(v,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,u,(function(){return this})),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(f(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(g),l(g,s,"Generator"),l(g,c,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(o);var a=o.exports(),c=a;try{regeneratorRuntime=a}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function p(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,f(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,f(t,e,"set"),n),n}function d(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}var y=new WeakMap,v=new WeakMap,w=new WeakMap,m=s((function e(n,r){var o,i,a=this;l(this,e),d(this,y,{writable:!0,value:void 0}),d(this,v,{writable:!0,value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.currency,n=new Intl.NumberFormat(p(a,y),{minimumFractionDigits:e.decimals,maximumFractionDigits:e.decimals}),r=t*(e.factor||1),o=n.format(r);return e.format.replace("%@",o)}}),d(this,w,{writable:!0,value:function(t){return new Intl.NumberFormat(p(a,y)).format(t)}}),t(this,"conversion",(function(t){var e;return a.currency?null!==(e=a.additionalCurrencies)&&void 0!==e&&e.length?{price:p(a,v).call(a,t),additionalPrices:a.additionalCurrencies.map((function(e){return p(a,v).call(a,t,e)}))}:{price:p(a,v).call(a,t)}:{price:p(a,w).call(a,t)}})),t(this,"format",(function(t){return a.currency?p(a,v).call(a,t):p(a,w).call(a,t)})),h(this,y,(null===(o=window.verne)||void 0===o||null===(i=o.mdm)||void 0===i?void 0:i.locale)||navigator.language),this.currency=n,this.additionalCurrencies=r})),b="1.70.0";function g(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var O,k,x,j,S=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((function(t,e,r){return"".concat(t).concat(e).concat(r in n?n[r]:"")}),"")},E={guestToken:S(O||(O=g(["\n    query CreateAnonymousToken($channel: String!) {\n      createAnonymousToken(channel: $channel) {\n        access_token\n        anonymous_id\n        refresh_token\n      }\n    }\n  "]))),countryConfiguration:S(k||(k=g(["\n    query FetchCountryConfiguration($channel: String!, $countryId: String) {\n      fetchCountryConfiguration(channel: $channel, countryId: $countryId) {\n        currency {\n          decimals\n          format\n          iso\n        }\n        additionalCurrencies {\n          decimals\n          format\n          iso\n          factor\n        }\n        shouldShowDiscountRate\n        maximumReturnDays\n        freeShippingThreshold\n        countryState: iso3166_2\n        shoppingCart {\n          cartMaxAmount\n          cartMaxUnits\n        }\n        isLoyalty\n        hasOnlineSale\n        hasDiscount\n        isDiscountSeason\n        isGdpr\n        relatedResources {\n          help\n          privacyPolicy\n          termsConditions\n        }\n      }\n    }\n  "])))},P="/ws-graphql-gateway/graphql",T=function(t,e){return{url:"".concat(P,"?query=").concat(t,"&").concat(e?"variables=".concat(JSON.stringify(e)):"","&ts=").concat(b)}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{url:"".concat(P,"?ts=").concat(b),options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,variables:e})}}},C={countryConfiguration:(j=n(c.mark((function t(){var e,n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={channel:window.verne.mdm.application,countryId:window.verne.mdm.countryID},t.next=4,fetch(T(E.countryConfiguration,e).url);case 4:return t.next=6,t.sent.json();case 6:return n=t.sent,t.abrupt("return",n.data.fetchCountryConfiguration);case 10:return t.prev=10,t.t0=t.catch(0),console.error("Error fetching country configuration"),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(){return j.apply(this,arguments)}),guestToken:(x=n(c.mark((function t(){var e,n,r,o,i,a,u;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={channel:window.verne.mdm.application},n=_(E.guestToken,e),t.next=5,fetch(n.url,n.options);case 5:return t.next=7,t.sent.json();case 7:return r=t.sent,o=r.data.createAnonymousToken,i=o.access_token,a=o.anonymous_id,u=o.refresh_token,t.abrupt("return",{access_token:i,anonymous_id:a,refresh_token:u});case 12:return t.prev=12,t.t0=t.catch(0),console.error("Error fetching guest token"),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),function(){return x.apply(this,arguments)})};function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?D(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(t){var e=t.additionalCurrencies,n=t.countryState,r=t.currency,o=t.freeShippingThreshold,i=t.hasDiscount,a=t.hasOnlineSale,c=t.isDiscountSeason,u=t.isLoyalty,s=t.isGdpr,l=t.maximumReturnDays,f=t.relatedResources,p=t.shoppingCart,h=t.shouldShowDiscountRate;return{currency:r?new m(r,e):null,mdm:{country:{countryState:n,freeShippingThreshold:o,hasDiscount:i,hasOnlineSale:a,isDiscountSeason:c,isGdpr:s,isLoyalty:u,maximumReturnDays:l,relatedResources:f,shouldShowDiscountRate:h},shoppingCart:p}}},I=function(){var t=n(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.countryConfiguration();case 3:e=t.sent,n=A(e),r=void 0,o=void 0,r=n.currency,o=n.mdm,window.verne=L(L({},window.verne),{},{currency:r,mdm:L(L({},window.verne.mdm),o)}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error("[MNG Verne] Error fetching country configuration: ".concat(t.t0));case 10:case"end":return t.stop()}var n,r,o}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),N={getCountryConfiguration:I};function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(t){var e=G(t.split("|"),2);return{accessToken:e[0],refreshToken:e[1]}},F=function(){try{var t=function(){try{return window.localStorage.getItem("customerToken")}catch(t){throw new Error("[MNG Verne] Error getting token from localStorage")}}();return t?R(t):{accessToken:null,refreshToken:null}}catch(t){throw new Error("[MNG Verne] Error splitting accessToken or refreshToken")}},V=function(){try{window.localStorage.removeItem("customerToken")}catch(t){throw new Error("[MNG Verne] Error to remove token from localStorage")}},W=function(t){return JSON.parse(window.atob(t.split(".")[1]))};function z(t,e){B(t,e),e.add(t)}function q(t,e,n){B(t,e),e.set(t,n)}function B(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U(t,e,n){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),n}function $(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var J=new WeakMap,Y=new WeakMap,H=new WeakMap,K=new WeakSet,Z=new WeakSet,Q=new WeakSet,X=new WeakSet,tt=new WeakSet,et=new WeakSet,nt=function(){function t(){l(this,t),z(this,et),z(this,tt),z(this,X),z(this,Q),z(this,Z),z(this,K),q(this,J,{writable:!0,value:void 0}),q(this,Y,{writable:!0,value:void 0}),q(this,H,{writable:!0,value:void 0});var e=F(),n=e.accessToken,r=e.refreshToken;h(this,J,n),h(this,Y,r),h(this,H,"/ws-mngidp/oauth/token"),this.get=$(this,X,ct),this.refresh=$(this,et,st),this.retryCount=1}var e;return s(t,[{key:"manage",value:(e=n(c.mark((function t(){var e,n,r,o,i,a;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window.verne.mdm.logged,window.customerToken&&""!==window.customerToken&&$(this,K,ot).call(this,window.customerToken),n=!e&&(!p(this,J)||$(this,Q,at).call(this)),r=e&&(!p(this,J)||!$(this,Q,at).call(this)),!n){t.next=13;break}return t.next=7,C.guestToken();case 7:o=t.sent,i=o.access_token,a=o.refresh_token,$(this,K,ot).call(this,"".concat(i,"|").concat(a)),t.next=21;break;case 13:if(!r){t.next=18;break}throw V(),new Error("[MNG Verne] CustomerToken deleted due to an inconsistency");case 18:if(c=p(this,J),u=void 0,s=void 0,u=W(c).exp,s=new Date(1e3*u),!(new Date(Date.now()+18e5)>s)){t.next=21;break}return t.next=21,this.refresh();case 21:case"end":return t.stop()}var c,u,s}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();function rt(){var t=window.verne.mdm,e=t.mangoCountryISO,n=t.countryISO;return window.location.assign("/".concat(e||n,"/logout"))}function ot(t){var e=R(t),n=e.accessToken,r=e.refreshToken;h(this,J,n),h(this,Y,r),function(t){try{window.localStorage.setItem("customerToken",t)}catch(t){throw new Error("[MNG Verne] Error to store token on localStorage")}}(t)}function it(){h(this,J,null),h(this,Y,null)}function at(){try{return!W(p(this,J)).authorities.some((function(t){return"ANONYMOUS"===t}))}catch(t){throw new Error("[MNG Verne] Error decoding customerToken '".concat(p(this,J),"': ").concat(t))}}function ct(){return p(this,J)}function ut(){return p(this,Y)}function st(){return lt.apply(this,arguments)}function lt(){return lt=n(c.mark((function t(){var e,n,r,o,i,a,u;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=window.verne.mdm.logged,n=$(this,tt,ut).call(this),(r=new URLSearchParams).append("grant_type","refresh_token"),n&&r.append("refresh_token",n),o=e?"".concat("customer",":").concat("secret"):"".concat("AnonymousCustomer",":").concat("P37NxBt&qV9zF*PUC7dkOoA1sqPVTr"),i={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(window.btoa(o))},body:r},t.next=10,fetch(p(this,H),i);case 10:if(!((a=t.sent).status>=400)){t.next=19;break}if(!e){t.next=14;break}return t.abrupt("return",U(nt,nt,rt).call(nt));case 14:return V(),$(this,Z,it).call(this),t.next=18,this.manage();case 18:return t.abrupt("return",$(this,X,ct).call(this));case 19:return t.next=21,a.json();case 21:return u=t.sent,$(this,K,ot).call(this,"".concat(u.access_token,"|").concat(u.refresh_token)),t.abrupt("return",u.access_token);case 26:throw t.prev=26,t.t0=t.catch(0),new Error("[MNG Verne] Error getting customerToken: ".concat(t.t0));case 29:case"end":return t.stop()}}),t,this,[[0,26]])}))),lt.apply(this,arguments)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ft(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht=function(){var t=n(c.mark((function t(){var e,r;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=n(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(window.appUrl,"/micro-frontends-versions.json"));case 3:if(!((e=t.sent).status>=400)){t.next=6;break}return t.abrupt("return",{});case 6:return t.abrupt("return",e.json());case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),t.next=3,e();case 3:r=t.sent,window.verne=pt(pt({},window.verne),{},{microFrontends:r});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}function yt(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function wt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var mt=function(t){try{return JSON.parse(t)}catch(e){return t}},bt=["lazy"];function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?gt(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt={},xt=function(t,e){var n=document.createElement("script");n.id="micro-frontend-script-".concat(e.name),n.src="".concat(e.url).concat(t["main.js"]),n.onload=function(){var n,r;return null===(n=(r=window)["render_".concat(e.name)])||void 0===n?void 0:n.call(r,t.env,e)},document.body.appendChild(n)},jt=function(t,e){var n=e.rtl?"true"===e.rtl:"rtl"===document.dir,r=document.createElement("link");r.id="micro-frontend-link-".concat(e.name),r.rel="stylesheet",r.href="".concat(e.url).concat(n?t["main.rtl.css"]:t["main.css"]),document.head.appendChild(r)},St=function(){var t=n(c.mark((function t(e){var n,r,o,i;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null===(n=e.url.match("st-([-a-zA-Z0-9]*)"))||void 0===n?void 0:n[1],o=window.verne.microFrontends[r]||"",t.next=4,fetch("".concat(e.url,"/").concat("manifest.json","?v=").concat(o));case 4:return t.next=6,t.sent.json();case 6:i=t.sent,kt[e.name]=i,xt(i,e),(i["main.css"]||i["main.rtl.css"])&&jt(i,e);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Et=function(t){var e=setInterval((function(){document.getElementById(t.id)?"function"==typeof window["render_".concat(t.name)]&&(window["render_".concat(t.name)](kt[t.name].env,t),clearInterval(e)):clearInterval(e)}),100)},Pt=function(){var t=n(c.mark((function t(e){var n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=Ot({},e)).observeddata&&(n.observeddata=mt(n.observeddata)),kt[e.name]){t.next=8;break}return kt[e.name]={},t.next=6,St(n);case 6:t.next=9;break;case 8:Et(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Tt=function(t){t.lazy;var e=wt(t,bt),n=mt(t.lazy),o="object"===r(n)?n:{rootMargin:"0px 0px ".concat(n||"300","px 0px")},i=document.getElementById(e.id)||document.getElementsByName(e.name)[0],a=function(t,e){try{return"IntersectionObserver"in window?new window.IntersectionObserver(t,e):null}catch(t){return null}}((function(t,n){t.forEach((function(t){t.isIntersecting&&(Pt(e),n.unobserve(i))}))}),o);return a?a.observe(i):Pt(e)};function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}var Ct,Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(n,window.HTMLElement);var e=_t(n);function n(){return l(this,n),e.apply(this,arguments)}return s(n,[{key:"getAllAttributes",value:function(){var t={};return Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n;)r[n-=1]=[e[n],t[e[n]]];return r}),Object.entries(this.attributes).forEach((function(e){t[e[1].name]=e[1].value})),t}},{key:"connectedCallback",value:function(){var t=this.getAllAttributes(),e=t.name;return this.getAttribute("id")&&this.id||(this.id=e,t.id=this.id),void 0!==t.lazy?Tt(t):Pt(t)}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&function(t,e,n,r){var o=t.getAttribute("id")||t.getAttribute("name"),i={element:t,name:e,oldValue:mt(n),newValue:mt(r)},a=new window.CustomEvent("microFrontend.changeData.".concat(o),{detail:i});window.dispatchEvent(a)}(this,t,e,n)}}],[{key:"observedAttributes",get:function(){return["observeddata"]}}]),n}();function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Lt(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}window.appUrl=window.appUrl||window.location.origin;var It=(null===(Ct=window.verne)||void 0===Ct?void 0:Ct.token)||new nt;window.verne=At(At({},window.verne),{},{token:It});var Nt=[ht(),It.manage(),N.getCountryConfiguration(),window.verne.labels.getByNamespace("Transversal_Keys")];Promise.allSettled(Nt).finally((function(){window.customElements.get("micro-frontend")||window.customElements.define("micro-frontend",Dt),window.verne.masterDataLoaded=!0,window.dispatchEvent(new CustomEvent("window.verne.masterData.loaded"))}));
